<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <title>The nature of pointer | Alex&#39;s Epitaph</title>
  <meta name="keywords" content=" c ">
  <meta name="description" content="The nature of pointer | Alex&#39;s Epitaph">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="The wolf I will follow into the storm.                                        To find your heart, its passion displaced.                                         T">
<meta property="og:type" content="website">
<meta property="og:title" content="Alex&#39;s Epitaph">
<meta property="og:url" content="www.hellscript.cc/about/index.html">
<meta property="og:site_name" content="Alex&#39;s Epitaph">
<meta property="og:description" content="The wolf I will follow into the storm.                                        To find your heart, its passion displaced.                                         T">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-11-02T13:06:38.497Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Alex&#39;s Epitaph">
<meta name="twitter:description" content="The wolf I will follow into the storm.                                        To find your heart, its passion displaced.                                         T">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/gruvbox-light.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1"></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.0.1"></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value>
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg">
</a>
<div class="author">
    <span>Alex Zou</span>
</div>

<div class="icon">
    
        
        <a title="github" href="https://github.com/gzrjzcx" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"/>
                </svg>
            
        </a>
        
    
        
        <a title="email" href="mailto:gzrjzcx@qq.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"/>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active">All<small>(26)</small></div></li>
    
        
            
            <li><div data-rel="DataStructure">DataStructure<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="C">C<small>(10)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Interview">Interview<small>(8)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Life">Life<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Parallel">Parallel<small>(1)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url" href="/about">About</a><a style="width: 50%" class="friends">Friends</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="26">
<input type="hidden" id="yelog_site_word_count" value="15.2k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="https://www.hellscript.cc/Pointer2SSP/">Pointer2SSP</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="Search..." autocomplete="off" id="local-search-input">
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none">
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">Interview</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">Life</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">Parallel</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color2">c</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">DataStructure</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">life</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <nav id="title-list-nav">
        
        <a class href="/2019/02/21/Interview/" data-tag="Interview" data-author>
            <span class="post-title" title="Interview">Interview</span>
            <span class="post-date" title="2019-02-21 00:26:09">2019/02/21</span>
        </a>
        
        <a class href="/2019/03/25/Life/" data-tag="Life" data-author>
            <span class="post-title" title="Ideal Life">Ideal Life</span>
            <span class="post-date" title="2019-03-25 21:55:55">2019/03/25</span>
        </a>
        
        <a class href="/2019/02/21/Parallelization/" data-tag="Parallel" data-author>
            <span class="post-title" title="Parallelization">Parallelization</span>
            <span class="post-date" title="2019-02-21 15:18:51">2019/02/21</span>
        </a>
        
        <a class href="/2019/02/22/c-programming/" data-tag="c" data-author>
            <span class="post-title" title="C Notes">C Notes</span>
            <span class="post-date" title="2019-02-22 19:43:41">2019/02/22</span>
        </a>
        
        <a class="DataStructure " href="/2019/10/30/Subposts_dataStructure/Data-Structure-Stack/" data-tag="DataStructure" data-author>
            <span class="post-title" title="Data Structure: Stack">Data Structure: Stack</span>
            <span class="post-date" title="2019-10-30 14:22:04">2019/10/30</span>
        </a>
        
        <a class="DataStructure " href="/2019/10/03/Subposts_dataStructure/LinkedList/" data-tag="c" data-author>
            <span class="post-title" title="Singly-Linked List">Singly-Linked List</span>
            <span class="post-date" title="2019-10-03 12:27:40">2019/10/03</span>
        </a>
        
        <a class="C " href="/2019/02/23/subposts_c/Typical-error-of-pointer/" data-tag="c" data-author>
            <span class="post-title" title="Typical error of pointer">Typical error of pointer</span>
            <span class="post-date" title="2019-02-23 00:15:35">2019/02/23</span>
        </a>
        
        <a class="C " href="/2019/02/22/subposts_c/c-memory-layout/" data-tag="c" data-author>
            <span class="post-title" title="Static keyword &amp; C memory layout">Static keyword &amp; C memory layout</span>
            <span class="post-date" title="2019-02-22 21:54:33">2019/02/22</span>
        </a>
        
        <a class="C " href="/2019/02/22/subposts_c/c-preprocess/" data-tag="c" data-author>
            <span class="post-title" title="C preprocess">C preprocess</span>
            <span class="post-date" title="2019-02-22 23:23:13">2019/02/22</span>
        </a>
        
        <a class="C " href="/2019/02/22/subposts_c/charPointer-VS-charArray/" data-tag="c" data-author>
            <span class="post-title" title="char* VS char[]">char* VS char[]</span>
            <span class="post-date" title="2019-02-22 22:59:41">2019/02/22</span>
        </a>
        
        <a class="C " href="/2019/02/23/subposts_c/dot-operator-Vs-arrow-operator/" data-tag="c" data-author>
            <span class="post-title" title="dot operator Vs. arrow operator">dot operator Vs. arrow operator</span>
            <span class="post-date" title="2019-02-23 00:11:13">2019/02/23</span>
        </a>
        
        <a class="C " href="/2019/02/22/subposts_c/pass-parameters-in-function/" data-tag="c" data-author>
            <span class="post-title" title="Pass parameters in function">Pass parameters in function</span>
            <span class="post-date" title="2019-02-22 23:57:46">2019/02/22</span>
        </a>
        
        <a class="C " href="/2019/02/22/subposts_c/reference-Vs-pointer/" data-tag="c" data-author>
            <span class="post-title" title="reference Vs. pointer">reference Vs. pointer</span>
            <span class="post-date" title="2019-02-22 23:44:05">2019/02/22</span>
        </a>
        
        <a class="C " href="/2019/10/04/subposts_c/scanf/" data-tag="c" data-author>
            <span class="post-title" title="scanf and its left white-space character problem">scanf and its left white-space character problem</span>
            <span class="post-date" title="2019-10-04 14:13:44">2019/10/04</span>
        </a>
        
        <a class="C " href="/2019/02/23/subposts_c/struct-VS-class/" data-tag="c" data-author>
            <span class="post-title" title="struct VS. class">struct VS. class</span>
            <span class="post-date" title="2019-02-23 01:03:10">2019/02/23</span>
        </a>
        
        <a class="Interview " href="/2019/11/01/subposts_interview/ByteDance-Clinet-Developer-First-Interview/" data-tag="Interview" data-author>
            <span class="post-title" title="ByteDance: Clinet Developer First Interview">ByteDance: Clinet Developer First Interview</span>
            <span class="post-date" title="2019-11-01 11:06:19">2019/11/01</span>
        </a>
        
        <a class="Interview " href="/2019/02/27/subposts_interview/Game-Categroy/" data-tag="Interview" data-author>
            <span class="post-title" title="Game Categroy">Game Categroy</span>
            <span class="post-date" title="2019-02-27 22:14:48">2019/02/27</span>
        </a>
        
        <a class="Interview " href="/2019/10/16/subposts_interview/NetEasy-AI-Engineer-Interview/" data-tag="Interview" data-author>
            <span class="post-title" title="NetEasy AI Engineer Interview">NetEasy AI Engineer Interview</span>
            <span class="post-date" title="2019-10-16 12:08:30">2019/10/16</span>
        </a>
        
        <a class="Interview " href="/2019/11/01/subposts_interview/NetEasy-RL-Interview/" data-tag="Interview" data-author>
            <span class="post-title" title="NetEasy RL Interview">NetEasy RL Interview</span>
            <span class="post-date" title="2019-11-01 14:54:50">2019/11/01</span>
        </a>
        
        <a class="Interview " href="/2019/04/05/subposts_interview/OJ-IO/" data-tag="Interview" data-author>
            <span class="post-title" title="OJ IO">OJ IO</span>
            <span class="post-date" title="2019-04-05 22:34:12">2019/04/05</span>
        </a>
        
        <a class="Interview " href="/2019/02/24/subposts_interview/Tencent-Timi/" data-tag="Interview" data-author>
            <span class="post-title" title="Tencent Timi Game engineer first interview">Tencent Timi Game engineer first interview</span>
            <span class="post-date" title="2019-02-24 13:49:58">2019/02/24</span>
        </a>
        
        <a class="Interview " href="/2019/02/21/subposts_interview/switch_lamps/" data-tag="Interview" data-author>
            <span class="post-title" title="Turn on/off lamps">Turn on/off lamps</span>
            <span class="post-date" title="2019-02-21 00:26:09">2019/02/21</span>
        </a>
        
        <a class="Life " href="/2019/03/24/subposts_life/A-COOL-FISH/" data-tag="life" data-author>
            <span class="post-title" title="A Cool Fish">A Cool Fish</span>
            <span class="post-date" title="2019-03-24 00:28:22">2019/03/24</span>
        </a>
        
        <a class="Parallel " href="/2019/02/21/subposts_parallel/thread-vs-process/" data-tag="Parallel" data-author>
            <span class="post-title" title="thread Vs. process">thread Vs. process</span>
            <span class="post-date" title="2019-02-21 16:29:01">2019/02/21</span>
        </a>
        
        <a class="C " href="/2019/02/22/subposts_c/The-nature-of-pointer/" data-tag="c" data-author>
            <span class="post-title" title="The nature of pointer">The nature of pointer</span>
            <span class="post-date" title="2019-02-22 13:37:59">2019/02/22</span>
        </a>
        
        <a class="Interview " href="/2019/10/19/subposts_interview/Tencent-2019-campus-recruitment-Game-Developer-Engineer-first-interview/" data-tag="Interview" data-author>
            <span class="post-title" title="Tencent 2019 campus recruitment: Game Developer Engineer first interview">Tencent 2019 campus recruitment: Game Developer Engineer first interview</span>
            <span class="post-date" title="2019-10-19 20:47:44">2019/10/19</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-subposts_c/The-nature-of-pointer" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">The nature of pointer</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            
                <a href="javascript:" data-rel="C">C</a>
            
        </span>
        
        
        <span class="tag">
            
            <a href="javascript:" class="color2">c</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        创建时间:<time class="date" title="更新时间: 2019-11-02 13:06:38">2019-02-22 13:37</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:1.5k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-a-pointer"><span class="toc-text">What is a pointer</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Memory-address-of-pointer"><span class="toc-text">Memory address of pointer</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#The-type-of-the-pointer"><span class="toc-text">The type of the pointer</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#void-pointer"><span class="toc-text">void pointer</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Pointer-operation"><span class="toc-text">Pointer operation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#array-name-Vs-pointer"><span class="toc-text">array name Vs. pointer</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-text">Conclusion</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Analysis"><span class="toc-text">Analysis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Differences"><span class="toc-text">Differences</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Declaration"><span class="toc-text">1. Declaration:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-pointer-is-a-variable-array-name-is-a-constant"><span class="toc-text">2. pointer is a variable, array name is a constant</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pointer-to-array-Vs-array-of-pointers"><span class="toc-text">pointer to array Vs. array of pointers</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Initialize-array-of-pointers"><span class="toc-text">Initialize array of pointers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-d-array-of-pointers"><span class="toc-text">2-d array of pointers</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#References"><span class="toc-text">References:</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="What-is-a-pointer"><a href="#What-is-a-pointer" class="headerlink" title="What is a pointer"></a>What is a pointer</h1><p>Essentially, what must be emphasized is that <strong><code>pointer</code> is a data type</strong> in <code>C</code> context, like <code>int</code> data type. Therefore:</p>
<ul>
<li><code>pointer</code> need memory space to store.</li>
<li><code>pointer</code> has its own address of the memory space.</li>
</ul>
<blockquote>
<p>In computer science, a pointer is a programming language object that stores the memory address of another value located in computer memory. A pointer references a location in memory, and obtaining the value stored at that location is known as <code>dereferencing</code> the pointer.  —<a href="https://en.wikipedia.org/wiki/Pointer_(computer_programming" target="_blank" rel="noopener">WIKI</a>)</p>
</blockquote>
<p>Given these points, we can say that <code>pointer</code> is a data type which is intended to store the memory address. More importantly, we can obtain the value of the <code>pointer</code> by <code>dereference</code> operation.</p>
<h1 id="Memory-address-of-pointer"><a href="#Memory-address-of-pointer" class="headerlink" title="Memory address of pointer"></a>Memory address of pointer</h1><p>Since we have known that <code>pointer</code> is used to store the memory address, then what is the <code>memory address</code>? It can be diagrammed by the figure below:</p>
<p><img src="/res/c/pointer/pointer1.png" alt="pointer1"></p>
<p>This is the memory figure of the below code:</p>
<pre><code class="c">unsigned char a = 7; // unsigned char only contain 1 bit
unsigned char* pa = &amp;a; //assign the address of a to pointer b
unsigned char** ppa = &amp;b; //assign the address of the pointer pa to pointer ppa
printf(&quot;dereferencing ppa = %d\n&quot;, **ppa);
</code></pre>
<p>It can be explained that the variable <code>unsigned char a</code> is initialized with <code>7</code>, and stored at <code>0x00</code> memory space. Then referencing variable <code>a</code> to pointer <code>pa</code>. It means that acquiring the address of variable <code>a</code> and assigning it to pointer variable <code>pa</code>.<br><strong>Note:</strong> here you can see:</p>
<ul>
<li><code>The value</code> of pointer <code>pa</code> is <code>0x00</code>, i.e. the address of variable <code>a</code>.</li>
<li><code>The address</code> of pointer <code>pa</code> is <code>0x01</code>, i.e. the address of pointer <code>pa</code> itself.</li>
</ul>
<p>It is what we mentioned before, the pointer <code>pa</code> is a data type and it has its own address. The <code>deference operation</code> means that obtaining the value of the address stored in the <code>pointer</code>(i.e., the value of <code>pointer</code>).</p>
<p>The situation is similar to the pointer <code>ppa</code>, it means the pointer <code>ppa</code> to the other pointer <code>pa</code>. The value of the pointer <code>ppa</code> is the address of the pointer <code>pa</code>. And the pointer <code>ppa</code> has its own address <code>0x02</code>.</p>
<h1 id="The-type-of-the-pointer"><a href="#The-type-of-the-pointer" class="headerlink" title="The type of the pointer"></a>The type of the pointer</h1><p>Firstly, the pointer is intended to store the address, however, the address is only a series of numbers. Therefore, the different types are not necessary for pointers in terms of the pointer itself. However, there is the most important reason that we need different type of pointers in terms of <code>dereference operation</code>:<br><strong><code>Tell the compiler how to interpret the variable.</code></strong>  </p>
<p><img src="/res/c/pointer/pointer2.png" alt="pointer2"></p>
<p>Specifically, when we acquire the address from the pointer <code>pb</code>(i.e. <code>0x00</code>), we only know the variable <code>b</code> start from the <code>0x00</code> in the memory space. We don’t know how many blocks the variable <code>b</code> contains. We must tell the compiler that <code>pb</code> is a <code>int*</code> type pointer, then the compiler will know that we need to obtain the first <code>4</code> blocks of this memory to interpret the variable <code>b</code>(because the <code>int</code> type contains <code>4</code> bytes).</p>
<h2 id="void-pointer"><a href="#void-pointer" class="headerlink" title="void pointer"></a>void pointer</h2><p>Specially, <code>void pointer</code> can transfer to arbitrary type pointer(e.g. <code>int*</code>, <code>char*</code>) with necessary explicit type conversion. But arbitrary type pointer transfer to <code>void pointer</code> without any conversion.</p>
<pre><code class="c">void* p;
int* pa = (int *)p; // explicit type conversion
float f = 1.22f;
float* p1 = &amp;f;
p = p1; // without any conversion
</code></pre>
<p>The reason that why we need to execute the type conversion explicitly is that we need to tell the compiler how many blocks of the memory are used to interpret the variable.</p>
<p>Typically, the <code>void pointer</code> is intended as the parameters of the function which the type of the pointer is uncertain. For example:</p>
<pre><code class="c">void* memcpy(void *addr1, void *addr2, size_t n);
</code></pre>
<p>It means arbitrary pointer type can pass to this function, because it is only need to operate the memory, the type of the pointer is inessential. </p>
<h1 id="Pointer-operation"><a href="#Pointer-operation" class="headerlink" title="Pointer operation"></a>Pointer operation</h1><p>Firstly, the operation of pointer means the operation of the <strong><code>value</code> of pointer</strong>.<br>As the figure:</p>
<p><img src="/res/c/pointer/pointer2.png" alt="pointer3"></p>
<p>Please note that in this stage, the pointer <code>pb</code> is stored in <code>0x20</code> instead of <code>0x04</code>. Then </p>
<pre><code>pb+1 ==&gt; 0x00 + 4 ==&gt; 0x04
</code></pre><p>We can see that the addition of pointer is the value of the pointer add the <code>sizeof(type)</code> bytes. Therefore, it is pointless of the addition of pointer, because it is hard to explain what is in memory <code>0x04</code>(or even <code>0x04</code> memory block does not exit).<br>In some cases, the subtraction is allowed in <code>C</code> because we can the offset of two pointers.</p>
<h1 id="array-name-Vs-pointer"><a href="#array-name-Vs-pointer" class="headerlink" title="array name Vs. pointer"></a>array name Vs. pointer</h1><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Array is array, pointer is pointer, they are different data type. Essentially, pointer is a variable, <code>array name</code> is a symbol(constant). </p>
<h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><pre><code class="c">int main(void) {
    int a[5] = {1,2,3,4,5};
    int (*pa)[5] = &amp;a;
    int* paEle = a;
    //exp1
    printf(&quot;%d\n&quot;, sizeof(a)); //20
    printf(&quot;%d\n&quot;, sizeof(paEle)); //8
    //exp2
    printf(&quot;%p\n&quot;, &amp;a); // 0x7ffdb136eb30 
    printf(&quot;%p\n&quot;, a);  // 0x7ffdb136eb30 
    //exp3
    printf(&quot;%p\n&quot;, a);  // 0x7ffdb136eb30 
    printf(&quot;%p\n&quot;, pa);  // 0x7ffdb136eb30 
    printf(&quot;%p\n&quot;, a+1);  // 0x7ffdb136eb34
    printf(&quot;%p\n&quot;, paEle+1);  // 0x7ffdb136eb34
    printf(&quot;%p\n&quot;, pa+1);  // 0x7ffdb136eb44
    printf(&quot;%d\n&quot;, *(a+1));  // 2
    printf(&quot;%d\n&quot;, *(pa+1)); // -1321800892
    return 0;
}
</code></pre>
<ul>
<li>In terms of the <code>exp1</code>, From the <code>sizeof</code> result, it can be concluded that the <code>array name</code> and <code>pointer</code> are different. Because if <code>a</code> is a pointer, then <code>sizeof(a)</code> should be equal to <code>8</code>(64-bit machine).  </li>
<li>As for the reason that the results of <code>exp2</code> are equal, it is that when the <code>array</code> are passed as the parameters of function, then it will decay to the <code>pointer</code>. </li>
<li>With respect to the <code>exp3</code>, <code>pa+1</code>(i.e. the pointer to the array <code>a</code>) means the offset will be the <strong>whole array</strong>. This is why the result of <code>*(pa+1)</code> is a random value. However, the offset <code>a+1</code> and <code>paEle+1</code> are one element(4 bytes for <code>int</code>).</li>
</ul>
<h2 id="Differences"><a href="#Differences" class="headerlink" title="Differences"></a>Differences</h2><h3 id="1-Declaration"><a href="#1-Declaration" class="headerlink" title="1. Declaration:"></a><code>1. Declaration:</code></h3><p>Except the situation that passed as the parameter, <code>array name</code> and <code>pointer</code> are totally different. Below is a wrong example:</p>
<pre><code class="c">char a[]; //define an array in `a.c` file,
extern char* a; //declare a as a pointer in other file, cannot compile(gcc not sure)
</code></pre>
<h3 id="2-pointer-is-a-variable-array-name-is-a-constant"><a href="#2-pointer-is-a-variable-array-name-is-a-constant" class="headerlink" title="2. pointer is a variable, array name is a constant"></a><code>2. pointer is a variable, array name is a constant</code></h3><ul>
<li>The essential of <code>array name</code> is the address of the first element of an array. In assembly code, it is a <strong>constant</strong>. Therefore, it can not <code>++</code> or <code>--</code>. In fact, typically, the <code>a[i]</code> will be transfered to <code>*(a+i)</code>. </li>
<li><code>a</code>, i.e. the address of the first element of array can be acquired <strong>in the compilation stage</strong>. In the assembly code, the address of the array are solid. For example, assuming that the address of <code>a</code> is <code>0x8048000</code>, then <code>a[1]</code> will be transfered to <code>*(0x8048000 + 4)</code>, (<code>int</code> are 4 bytes). However, pointer is a variable, the value cannot be acquired when compiling.</li>
<li>Reference to array(<code>a[1]</code>) will access the memory <code>1</code> time, reference to pointer <code>*(p+1)</code> will access the memory 2 times. Because <code>a</code> is the constant, what need to do is use constant <code>a</code> plus <code>1</code> and deference the address to the value. However, pointer is a variable, need to deference it firstly and plus <code>1</code>, and then deference the obtained address.</li>
</ul>
<h1 id="pointer-to-array-Vs-array-of-pointers"><a href="#pointer-to-array-Vs-array-of-pointers" class="headerlink" title="pointer to array Vs. array of pointers"></a>pointer to array Vs. array of pointers</h1><pre><code class="c">int *array1[10];  // An array of pointers. Each element of this array is one pointer. 
                  // There are 10 pointers in total
int (*array2)[10];  // A pointer to an array. Each element of this array is one integer.
                    // There are 10 integers in total, and a pointer to this array.
int *(array3[10]);  // same as the first one. An array of pointers.
</code></pre>
<blockquote>
<p>The reason is that the operator precedence of <code>[](array subscripting)</code> is higher than <code>* (dereference)</code>.</p>
</blockquote>
<p>In fact, </p>
<ul>
<li>In the first case, initially is the <code>array1[10]</code> operation, i.e. an array <code>array1[10]</code>, then is the <code>*array1[10]</code> operation, i.e. each element of this array is one int pointer. </li>
<li>In the second case, the bracket <code>()</code> improves the operator precedence of <code>*</code> to the same level of <code>[]</code>. The practical associativity order is (*array2) firstly, i.e., a pointer <code>array2</code>, then is an array of ten integers.</li>
</ul>
<h2 id="Initialize-array-of-pointers"><a href="#Initialize-array-of-pointers" class="headerlink" title="Initialize array of pointers"></a>Initialize array of pointers</h2><pre><code class="c">double *pos[10];
pos[0] = calloc(10*5,sizeof(double));
for(i=1;i&lt;10;i++){
    pos[i] = pos[0] + i * 5;
}
</code></pre>
<p>Here, we cannot do this: <code>pos = calloc(10*5, sizeof(double))</code> directly, because here <code>pos</code> is the <strong><code>array name</code></strong>, it is a <strong>constant</strong>!</p>
<h2 id="2-d-array-of-pointers"><a href="#2-d-array-of-pointers" class="headerlink" title="2-d array of pointers"></a>2-d array of pointers</h2><pre><code class="c">int (*a[10])[5]; // a is an array of pointers, each pointer to an array of 5 integers.
</code></pre>
<p>Here, using the bracket <code>()</code> to associate the <code>*</code> with the first dimension <code>a[10]</code>, i.e., the first dimension is an array pointers, and then the second dimension is the <code>[5]</code>. In a word, what each element within <code>a</code> points to is an array with 5 integers.<br>In other words, <code>a</code> is an array of pointers, there are 10 pointer within <code>a</code> in total, each element is a pointer to an array with 5 integers.</p>
<h1 id="References"><a href="#References" class="headerlink" title="References:"></a>References:</h1><ul>
<li><a href="https://www.zhihu.com/question/24466000" target="_blank" rel="noopener">pointer</a></li>
<li><a href="https://www.zhihu.com/question/31022750" target="_blank" rel="noopener">pointer type</a></li>
<li><a href="https://blog.csdn.net/geekcome/article/details/6249151" target="_blank" rel="noopener">void pointer</a></li>
<li><a href="https://blog.csdn.net/qq_29924041/article/details/54882135" target="_blank" rel="noopener">void pointer 2</a></li>
<li><a href="https://www.zhihu.com/question/23059655" target="_blank" rel="noopener">array name and pointer</a></li>
<li><a href="http://blog.chinaunix.net/uid-27004869-id-3301282.html" target="_blank" rel="noopener">array name assembly</a></li>
<li><a href="https://stackoverflow.com/questions/859634/c-pointer-to-array-array-of-pointers-disambiguation" target="_blank" rel="noopener">array of pointers</a></li>
<li><a href="https://en.wikipedia.org/wiki/Operators_in_C_and_C%2B%2B#Operator_precedence" target="_blank" rel="noopener">operators in C</a></li>
</ul>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 gzrjzcx@qq.com </span>
    </div>
</article>


<p>
    <a href="javascript:void(0)" class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>The nature of pointer</p>
    <p><span class="copy-title">文章字数:</span><span class="post-count">1.5k</span></p>
    <p><span class="copy-title">本文作者:</span><a href="javascript:void(0)" title="Alex Zou">Alex Zou</a></p>
    <p><span class="copy-title">发布时间:</span>2019-02-22, 13:37:59</p>
    <p><span class="copy-title">最后更新:</span>2019-11-02, 13:06:38</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/2019/02/22/subposts_c/The-nature-of-pointer/" title="The nature of pointer">www.hellscript.cc/2019/02/22/subposts_c/The-nature-of-pointer/</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target="_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
    </p>
</div>



    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '891633df9540ec724578',
            clientSecret: '012103e75c027bbbe2b6687fb84be518d7bb9994',
            repo: 'gzrjzcx.github.io',
            owner: 'gzrjzcx',
            admin: ['gzrjzcx'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">©2016-2019 AlexZou</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
<a class id="rocket" href="javascript:void(0)"></a>
    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close" href="javascript:void(0)" onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>有钱的捧个钱场，没钱的借钱也捧个钱场</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.png" class="alipay" title="扫码支持">
            <img src="/img/wechat.png" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">Alipay</label></span><span><label><input type="radio" name="pay" value="weixin">Wechat</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.0.1"></script>

<script src="/js/script.js?v=1.0.1"></script>
<script>
    var img_resize = 'default';
    /*作者、标签的自动补全*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['#Interview','#Life','#Parallel','#c','#DataStructure','#life',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("https://i.loli.net/2019/07/22/5d3521411f3f169375.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
